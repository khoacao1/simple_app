<!DOCTYPE html>
<html lang="en">

<head>
    <title>API Request Results</title>
    <link rel="stylesheet" href="../static/table.css">
</head>

<body>
    <table class="mytable">
        <thead>
            <tr>
                <th>First Name</th>
                <th>Middle Name</th>
                <th>Last Name</th>
                <th>Address</th>
                <th>Phone</th>
            </tr>
        </thead>
        <tbody>
            {% if counts == 0 :%}
            <div class="not-match">
                <h1>Sorry, there is no matched result. Please try again! Top</h1>
            </div>
            {% else %}

            {% set count = [] %}

            {% for i in range(0, counts) %}

            {% if search_provider['lastname'].upper() == basics[i]['last_name']: %}
            {% if search_provider['firstname'] == "" or search_provider['firstname'].upper() == basics[i]['first_name']:
            %}

            <tr>
                <td>{{ basics[i]['first_name'] }}</td>
                <td>{{ basics[i]['middle_name'] }}</td>
                <td>{{ basics[i]['last_name'] }}</td>
                <td>{{ addresses[i]['address_1'] + ", " + addresses[i]['city'] + ", " + addresses[i]['state'] + " " +
                    addresses[i]['postal_code'][0:5]}}</td>
                <td>{{ addresses[i]['telephone_number'] }}</td>
            </tr>
            {% set printed = count.append(1) %}
            {% endif %}
            {% endif %}
            {% endfor %}

            {% if count|length == 0: %}
            <div class="not-match">
                <h1>Sorry, there is no matched result. Please try again! Afterprint</h1>
            </div>
            {% endif %}
            {% endif %}

        </tbody>
    </table>
    <div class="mainpagebutton">
        <a href="/">Back to search page</a>
    </div>

</body>

</html>
